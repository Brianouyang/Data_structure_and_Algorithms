# 48. 区块链技术

## 散列函数的最酷应用：区块链技术

- 区块链是一种分布式数据库

    通过网络连接的节点，每个节点都保存着整个数据库所有数据，任何地点存入的数据都会完成同步

- 区块链最本质特征是“去中心化”

## 区块链

- 区块链由一个个区块（block）组成，区块分为头（head）和体（body）
- 区块头记录了一些元数据和链接到前一个区块的信息

### 区块链不可修改性

- 由于散列值具有抗修改性，任何对某区块数据的改动必然引起散列值的变化

### 工作量证明：Proof of Work

- 由于区块链是大规模的分布式数据库，同步较慢，新区块的添加速度需要得到控制
- 大家不惜付出海量的计算，去抢着算出一个区块的有效散列值

### 为什么有效散列值这么难算出？

- 控制新的区块链生成的速度，便于在整个分布式网络中进行同步
- 每个区块设置一个难度系数
- 矿工的工作是，找到一个数值Nonce，把它跟整个区块数据一起计算散列，这个散列值必须小于target，才是有效的散列值
- 由于散列值无法推原值，这个Nonce的寻找只能靠暴力穷举。

### 为什么矿工抢着生成区块？

- 有利益
- 区块内包含交易记录，这对于货币体系至关重要的
- Bitcoin规定，每个区块中包含一定数量的比特币作为“记账奖励”，这样就鼓励了更多人加入到抢先记账的行列
- 为了保持货币总量不会无限增加，每4年奖励的比特币减半

---