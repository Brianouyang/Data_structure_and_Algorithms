# 50. 冲突解决方案

- 如何两个数据项被散列映射到同一个槽，需要一个系统化的方法散列表中保存第二个数据项，这个过程称为“解决冲突”
- 解决散列冲突的一种方法就是为冲突的数据项再找一个开放的空槽来保存

    最简单的就是从冲突的槽开始往后扫描，直到碰到一个空槽

    如果散列尾部还未找到，则从首部接着扫描

- 这种寻找空槽的技术称为“开放定址open addressing”
- 向后逐个槽寻找的方法则是开放定址技术中的“线性探测linear probing”

## 线性探测Linear Probing

- 采用线性探测方法来解决散列冲突的话，则散列表的查找也遵循同样的规则

    如果再散列位置没有找到查找项的话，就必须向后做顺序查找

    直到找到查找项，或者碰到空槽（查找失败）

## 线性探测的改进

### 跳跃性探测

- 线性探测法的一个缺点是有聚集（clustering）的趋势
- 即如果同一个槽冲突的数据较多，这些数据项就会再槽附近聚集起来，从而连锁式影响其他数据项的插入
- 避免聚集的一种方法就是将线性探测拓展，跳跃式探测
- 跳跃值不可被散列表整除，不然会出现周期（一个技巧是，把散列表的大小设置为素数）
- 还可以将线性探测变为“二次探测quadratic probing），即不固定skip的值

### 再散列

- 用得到的散列值再散列rehashing

### 数据项链Chaining

- 将容纳单个数据项的槽扩展为容纳数据项集合（或者对数据项链表的引用）
- 这样，散列表中的每个槽就可以容纳多个数据项，如果有散列冲突发生，只需要简单地将数据项添加到数据项集合中

![50%20%E5%86%B2%E7%AA%81%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%20516ca9d34ce549878cdaeb16776ad7d0.png](50%20%E5%86%B2%E7%AA%81%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%20516ca9d34ce549878cdaeb16776ad7d0.png)

---